{
    "apiVersion": "apps/v1",
    "kind": "StatefulSet",
    "metadata": {
        "annotations": {
            "meta.helm.sh/release-name": "stratos",
            "meta.helm.sh/release-namespace": "stratos"
        },
        "creationTimestamp": "2020-06-19T03:39:14Z",
        "generation": 1,
        "labels": {
            "app": "stratos",
            "app.kubernetes.io/component": "stratos",
            "app.kubernetes.io/instance": "stratos",
            "app.kubernetes.io/managed-by": "Helm",
            "app.kubernetes.io/name": "stratos",
            "app.kubernetes.io/version": "3.2.1",
            "component": "stratos",
            "helm.sh/chart": "console-3.2.1"
        },
        "name": "stratos",
        "namespace": "stratos",
        "resourceVersion": "12734566",
        "selfLink": "/apis/apps/v1/namespaces/stratos/statefulsets/stratos",
        "uid": "b3ae3020-9749-445c-b0f6-ac3c5e8e9287"
    },
    "spec": {
        "podManagementPolicy": "OrderedReady",
        "replicas": 1,
        "revisionHistoryLimit": 10,
        "selector": {
            "matchLabels": {
                "app.kubernetes.io/component": "stratos",
                "app.kubernetes.io/name": "stratos"
            }
        },
        "serviceName": "stratos",
        "template": {
            "metadata": {
                "creationTimestamp": null,
                "labels": {
                    "app": "stratos",
                    "app.kubernetes.io/component": "stratos",
                    "app.kubernetes.io/instance": "stratos",
                    "app.kubernetes.io/name": "stratos",
                    "app.kubernetes.io/version": "3.2.1",
                    "component": "stratos",
                    "helm.sh/chart": "console-3.2.1"
                }
            },
            "spec": {
                "containers": [
                    {
                        "env": [
                            {
                                "name": "CONSOLE_CERT_PATH",
                                "value": "/stratos-cert-volume"
                            }
                        ],
                        "image": "docker.io/splatform/stratos-console:3.2.1-ca4f7be47",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "ui",
                        "ports": [
                            {
                                "containerPort": 80,
                                "name": "http",
                                "protocol": "TCP"
                            },
                            {
                                "containerPort": 443,
                                "name": "https",
                                "protocol": "TCP"
                            }
                        ],
                        "resources": {},
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File",
                        "volumeMounts": [
                            {
                                "mountPath": "/stratos-cert-volume",
                                "name": "stratos-cert-volume",
                                "readOnly": true
                            }
                        ]
                    },
                    {
                        "env": [
                            {
                                "name": "STRATOS_HELM_RELEASE",
                                "value": "stratos"
                            },
                            {
                                "name": "DB_USER",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "user",
                                        "name": "stratos-db-secret"
                                    }
                                }
                            },
                            {
                                "name": "DB_PASSWORD",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "password",
                                        "name": "stratos-db-secret"
                                    }
                                }
                            },
                            {
                                "name": "DB_DATABASE_NAME",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "database",
                                        "name": "stratos-db-secret"
                                    }
                                }
                            },
                            {
                                "name": "DB_HOST",
                                "value": "stratos-mariadb"
                            },
                            {
                                "name": "DB_PORT",
                                "value": "3306"
                            },
                            {
                                "name": "DATABASE_PROVIDER",
                                "value": "mysql"
                            },
                            {
                                "name": "DB_SSL_MODE",
                                "value": "false"
                            },
                            {
                                "name": "HTTP_CONNECTION_TIMEOUT_IN_SECS",
                                "value": "10"
                            },
                            {
                                "name": "HTTP_CLIENT_TIMEOUT_IN_SECS",
                                "value": "30"
                            },
                            {
                                "name": "HTTP_CLIENT_TIMEOUT_MUTATING_IN_SECS",
                                "value": "120"
                            },
                            {
                                "name": "HTTP_CLIENT_TIMEOUT_LONGRUNNING_IN_SECS",
                                "value": "600"
                            },
                            {
                                "name": "SKIP_TLS_VERIFICATION",
                                "value": "false"
                            },
                            {
                                "name": "CONSOLE_PROXY_TLS_ADDRESS",
                                "value": ":3003"
                            },
                            {
                                "name": "CF_CLIENT",
                                "value": "cf"
                            },
                            {
                                "name": "ALLOWED_ORIGINS",
                                "value": "https://localhost"
                            },
                            {
                                "name": "ENCRYPTION_KEY_VOLUME",
                                "value": "stratos-encryption-key-volume"
                            },
                            {
                                "name": "ENCRYPTION_KEY_FILENAME",
                                "value": "key"
                            },
                            {
                                "name": "SESSION_STORE_SECRET",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "sessionStoreSecret",
                                        "name": "stratos-db-secret"
                                    }
                                }
                            },
                            {
                                "name": "CONSOLE_PROXY_CERT_PATH",
                                "value": "/stratos-cert-volume/tls.crt"
                            },
                            {
                                "name": "CONSOLE_PROXY_CERT_KEY_PATH",
                                "value": "/stratos-cert-volume/tls.key"
                            },
                            {
                                "name": "HTTP_PROXY"
                            },
                            {
                                "name": "HTTPS_PROXY"
                            },
                            {
                                "name": "NO_PROXY"
                            },
                            {
                                "name": "FTP_PROXY"
                            },
                            {
                                "name": "SOCKS_PROXY"
                            },
                            {
                                "name": "LOG_LEVEL",
                                "value": "info"
                            },
                            {
                                "name": "CONSOLE_CLIENT",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "client",
                                        "name": "stratos-secret"
                                    }
                                }
                            },
                            {
                                "name": "CONSOLE_CLIENT_SECRET",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "clientSecret",
                                        "name": "stratos-secret"
                                    }
                                }
                            },
                            {
                                "name": "HELM_NAME",
                                "value": "stratos/stratos"
                            },
                            {
                                "name": "HELM_REVISION",
                                "value": "1"
                            },
                            {
                                "name": "HELM_CHART_VERSION",
                                "value": "3.2.1"
                            },
                            {
                                "name": "HELM_LAST_MODIFIED",
                                "value": "seconds:1592537952 nanos:0 "
                            },
                            {
                                "name": "SSO_LOGIN",
                                "value": "false"
                            },
                            {
                                "name": "SSO_OPTIONS"
                            },
                            {
                                "name": "SSO_WHITELIST"
                            },
                            {
                                "name": "TEMPLATE_DIR",
                                "value": "/srv/templates"
                            },
                            {
                                "name": "SMTP_AUTH",
                                "value": "false"
                            },
                            {
                                "name": "SMTP_FROM_ADDRESS"
                            },
                            {
                                "name": "SMTP_HOST"
                            },
                            {
                                "name": "SMTP_PORT",
                                "value": "25"
                            },
                            {
                                "name": "SMTP_USER",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "smtpUser",
                                        "name": "stratos-secret"
                                    }
                                }
                            },
                            {
                                "name": "SMTP_PASSWORD",
                                "valueFrom": {
                                    "secretKeyRef": {
                                        "key": "smtpPassword",
                                        "name": "stratos-secret"
                                    }
                                }
                            },
                            {
                                "name": "INVITE_USER_SUBJECT"
                            },
                            {
                                "name": "ENABLE_TECH_PREVIEW",
                                "value": "false"
                            },
                            {
                                "name": "UI_LIST_ALLOW_LOAD_MAXED",
                                "value": "false"
                            }
                        ],
                        "image": "docker.io/splatform/stratos-jetstream:3.2.1-ca4f7be47",
                        "imagePullPolicy": "IfNotPresent",
                        "name": "proxy",
                        "ports": [
                            {
                                "containerPort": 3003,
                                "name": "proxy",
                                "protocol": "TCP"
                            }
                        ],
                        "readinessProbe": {
                            "failureThreshold": 3,
                            "httpGet": {
                                "path": "/pp/v1/ping",
                                "port": 3003,
                                "scheme": "HTTPS"
                            },
                            "periodSeconds": 10,
                            "successThreshold": 1,
                            "timeoutSeconds": 1
                        },
                        "resources": {},
                        "terminationMessagePath": "/dev/termination-log",
                        "terminationMessagePolicy": "File",
                        "volumeMounts": [
                            {
                                "mountPath": "/stratos-encryption-key-volume",
                                "name": "stratos-encryption-key-volume",
                                "readOnly": true
                            },
                            {
                                "mountPath": "/stratos-cert-volume",
                                "name": "stratos-cert-volume",
                                "readOnly": true
                            },
                            {
                                "mountPath": "/etc/secrets/",
                                "name": "stratos-db-secret",
                                "readOnly": true
                            }
                        ]
                    }
                ],
                "dnsPolicy": "ClusterFirst",
                "restartPolicy": "Always",
                "schedulerName": "default-scheduler",
                "securityContext": {},
                "terminationGracePeriodSeconds": 30,
                "volumes": [
                    {
                        "name": "stratos-encryption-key-volume",
                        "secret": {
                            "defaultMode": 420,
                            "secretName": "stratos-key"
                        }
                    },
                    {
                        "name": "stratos-cert-volume",
                        "secret": {
                            "defaultMode": 420,
                            "secretName": "stratos-cert"
                        }
                    },
                    {
                        "name": "stratos-db-secret",
                        "secret": {
                            "defaultMode": 420,
                            "secretName": "stratos-db-secret"
                        }
                    },
                    {
                        "name": "stratos-secret",
                        "secret": {
                            "defaultMode": 420,
                            "secretName": "stratos-secret"
                        }
                    }
                ]
            }
        },
        "updateStrategy": {
            "rollingUpdate": {
                "partition": 0
            },
            "type": "RollingUpdate"
        }
    },
    "status": {
        "collisionCount": 0,
        "currentReplicas": 1,
        "currentRevision": "stratos-7bd8b9679d",
        "observedGeneration": 1,
        "readyReplicas": 1,
        "replicas": 1,
        "updateRevision": "stratos-7bd8b9679d",
        "updatedReplicas": 1
    }
}
